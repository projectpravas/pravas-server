"use strict";(self.webpackChunkpravas_client=self.webpackChunkpravas_client||[]).push([[261],{20261:function(e,i,a){a.r(i);var n=a(93433),t=a(29439),r=a(72791),s=a(36395),o=a(57012),d=a(81153),l=a(4708),u=a(34729),c=a(6907),v=a(87654),h=a(4841),m=a(80184),p=(0,s.Z)();i.default=function(){var e=(0,r.useState)([]),i=(0,t.Z)(e,2),a=i[0],s=i[1];return(0,r.useEffect)((function(){u.Z.fetchAllTours().then((function(e){var i,a,t=[];null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.data)||void 0===a||a.forEach((function(e,i){return t.push.apply(t,(0,n.Z)(e.images))}));s(t)}))}),[]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(c.ql,{children:[(0,m.jsx)("title",{children:"Login To Pravas Tourism"}),(0,m.jsx)("meta",{name:"description",content:"Login to Pravas Tourism"}),(0,m.jsx)("meta",{name:"keywords",content:"Login to Pravas Tourism"}),(0,m.jsx)("link",{rel:"canonical",href:"/login"})]}),(0,m.jsx)(o.Z,{theme:p,children:(0,m.jsxs)(d.ZP,{container:!0,component:"main",children:[(0,m.jsx)(l.ZP,{}),(0,m.jsx)(d.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(http://localhost:9999/".concat(a[Math.floor(Math.random()*a.length)],")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,m.jsx)(d.ZP,{item:!0,xs:12,sm:8,md:5,component:h.Z,elevation:1,square:!0,children:(0,m.jsx)(v.Z,{})})]})})]})}},87654:function(e,i,a){var n=a(29439),t=a(1413),r=a(72791),s=a(60220),o=a(5849),d=a(93006),l=a(64554),u=a(81153),c=a(30403),v=a(4567),h=a(11087),m=a(57689),p=a(66934),Z=a(78868),f=a(43725),x=a(55705),g=a(59434),b=a(90977),w=a(97808),j=a(20165),y=a(3746),P=a(19773),S=a(87711),q=a(32295),z=a(80184),E=(0,p.ZP)(h.OL)({textDecoration:"none"}),D={hasEmail:!0,hasPassword:!0},L=(0,Z.Z)((0,t.Z)({},D)),k=(0,f.Z)((0,t.Z)({},D));i.Z=function(e){var i=(0,r.useState)(!1),a=(0,n.Z)(i,2),t=(a[0],a[1]),h=(0,r.useState)(!1),p=(0,n.Z)(h,2),Z=p[0],f=p[1],D=(0,r.useState)(""),_=(0,n.Z)(D,2),M=_[0],C=_[1],T=(0,m.s0)(),A=(0,g.I0)(),I=(0,m.TH)().pathname.includes("login"),R=function(){return f((function(e){return!e}))},F=function(e){e.preventDefault()};return(0,z.jsx)(u.ZP,{item:!0,children:(0,z.jsx)(x.J9,{initialValues:L,enableReinitialize:!0,validationSchema:k,onSubmit:function(e,i){var a=i.resetForm;S.Z.userLogin(e).then((function(e){var i,n,r,s,o=null===e||void 0===e?void 0:e.headers["x-accesstoken"],d=null===e||void 0===e?void 0:e.headers["x-refreshtoken"];sessionStorage.setItem("aToken",o),sessionStorage.setItem("rToken",d);var l=(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||"Login Succesfull :-)";(0,P.Qm)(l,3e3),t(!1),A((0,q.pL)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data)),a({}),I&&T("customer"!=(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.role)?"/secured":"/secured/pravas/my-tours")})).catch((function(i){var n,r;a({values:{email:e.email,password:""}}),t(!1);var s=(null===i||void 0===i||null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Incorrect Email or User not Avialiable";(0,P.Jc)(s,5e3)}))},children:function(e){var i,a=e.values,n=e.errors,t=e.isValid,r=e.touched,h=e.handleBlur,m=e.handleChange,p=e.handleSubmit;return(0,z.jsx)("form",{onSubmit:p,children:(0,z.jsxs)(l.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,z.jsx)(s.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,z.jsx)(c.Z,{})}),(0,z.jsx)(v.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,z.jsxs)(l.Z,{sx:{mt:1},children:[(0,z.jsx)(u.ZP,{children:(0,z.jsx)(d.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,size:"small",value:a.email,onChange:m,onBlur:h,error:!(!r.email||!n.email),helperText:r.email&&n.email?n.email:""})}),(0,z.jsx)(u.ZP,{children:(0,z.jsx)(d.Z,{required:!0,fullWidth:!0,margin:"normal",name:"password",label:"Password",id:"password",size:"small",autoComplete:"new-password",value:null===a||void 0===a?void 0:a.password,onChange:m,onFocus:function(){return C("password")},onBlur:function(e){h(e),C("")},type:Z?"text":"password",InputLabelProps:{shrink:"password"==M||0!=(null===a||void 0===a||null===(i=a.password)||void 0===i?void 0:i.length)},InputProps:{startAdornment:(0,z.jsx)(w.Z,{position:"end",sx:{order:2,mr:"1em"},children:(0,z.jsx)(b.Z,{"aria-label":"toggle password visibility",onClick:R,onMouseDown:F,edge:"end",children:Z?(0,z.jsx)(j.Z,{}):(0,z.jsx)(y.Z,{})})})},error:!(null===r||void 0===r||!r.password||null===n||void 0===n||!n.password),helperText:null!==r&&void 0!==r&&r.password&&null!==n&&void 0!==n&&n.password?null===n||void 0===n?void 0:n.password:""})}),(0,z.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:!t,children:"Sign In"}),(0,z.jsxs)(u.ZP,{container:!0,children:[(0,z.jsx)(u.ZP,{item:!0,xs:6,children:(0,z.jsx)(E,{to:"/reset-password",children:"Forgot password?"})}),(0,z.jsx)(u.ZP,{item:!0,xs:6,children:(0,z.jsx)(E,{to:"/register",children:"Don't have an account? Sign Up"})})]})]})]})})}})})}},78868:function(e,i){i.Z=function(e){var i=e.has_id,a=void 0!==i&&i,n=e.hasUserId,t=void 0!==n&&n,r=e.hasFirst,s=void 0!==r&&r,o=e.hasLast,d=void 0!==o&&o,l=e.hasMobile,u=void 0!==l&&l,c=e.hasEmail,v=void 0!==c&&c,h=e.hasStreet,m=void 0!==h&&h,p=e.hasCity,Z=void 0!==p&&p,f=e.hasState,x=void 0!==f&&f,g=e.hasCountry,b=void 0!==g&&g,w=e.hasPincode,j=void 0!==w&&w,y=e.hasStatus,P=void 0!==y&&y,S=e.hasRole,q=void 0!==S&&S,z=e.hasAvatar,E=void 0!==z&&z,D=e.hasGender,L=void 0!==D&&D,k=e.hasDesignation,_=void 0!==k&&k,M=e.hasDob,C=void 0!==M&&M,T=e.hasPassword,A=void 0!==T&&T,I=e.hasUserActivityDetails,R=void 0!==I&&I,F={},V={},N={},H={};return a&&(F._id=""),t&&(F.userId=void 0),s&&(V.first=""),d&&(V.last=""),(s||d)&&(F.name=V),u&&(F.mobile=""),v&&(F.email=""),m&&(N.street=""),Z&&(N.city=""),x&&(N.state=""),b&&(N.country=""),j&&(N.pincode=""),(m||Z||x||b||j)&&(F.address=N),A&&(F.password=""),_&&(F.designation=""),P&&(F.status="inactive"),q&&(F.role=""),E&&(F.avatar=""),L&&(F.gender=""),C&&(F.dob=""),R&&(H.userTimeStamp=0,H.sentEmailTimeStamp=0,H.passwordTimeStamp=0,F.userActivityDetails=H),F}},43725:function(e,i,a){var n=a(81724);i.Z=function(e){var i=e.hasFirst,a=void 0!==i&&i,t=e.hasLast,r=void 0!==t&&t,s=e.hasMobile,o=void 0!==s&&s,d=e.hasEmail,l=void 0!==d&&d,u=e.hasStreet,c=void 0!==u&&u,v=e.hasCity,h=void 0!==v&&v,m=e.hasState,p=void 0!==m&&m,Z=e.hasCountry,f=void 0!==Z&&Z,x=e.hasPincode,g=void 0!==x&&x,b=e.hasPassword,w=void 0!==b&&b,j=e.hasRole,y=void 0!==j&&j,P=e.hasDob,S=void 0!==P&&P,q=e.hasGender,z=void 0!==q&&q,E=e.hasAvatar,D=void 0!==E&&E,L=e.hasStatus,k=void 0!==L&&L,_=e.hasDesignation,M=void 0!==_&&_,C={},T={},A={};return a&&(T.first=n.Z_().required("First Name is required")),r&&(T.last=n.Z_().required("Last Name is required")),(a||r)&&(C.name=n.Ry(T)),o&&(C.mobile=n.Z_().required().matches(/^[0-9]{10}$/,"Mobile Must be 10 Digit")),l&&(C.email=n.Z_().required().matches(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,6}$/,"Enter valid Email Address")),c&&(A.street=n.Z_().required("Street is required")),h&&(A.city=n.Z_().required("Address is required")),p&&(A.state=n.Z_().required("State is required")),f&&(A.country=n.Z_().required("Country is required")),g&&(A.pincode=n.Z_().required("Pincode is required")),(c||h||p||f||g)&&(C.address=n.Ry(A)),w&&(C.password=n.Z_().required().matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,"Password must have min 8 characters and 1 cap & small letter, Symbol")),y&&(C.role=n.Z_().required("Role is required")),S&&(C.dob=n.hT().required("Birth date is required").min(new Date(Date.now()-3784e9),"Date is too old, must be within 120 year back than now").max(new Date(Date.now()),"Date is greater than todays Date")),z&&(C.gender=n.Z_().required("Gender is required")),D&&(C.avatar=n.Z_().required("Avatar is required")),k&&(C.status=n.Z_().required("Status is required")),M&&(C.designation=n.Z_().required("Designation is required")),n.Ry().shape(C)}},30403:function(e,i,a){var n=a(64836);i.Z=void 0;var t=n(a(45649)),r=a(80184),s=(0,t.default)((0,r.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");i.Z=s},3746:function(e,i,a){var n=a(64836);i.Z=void 0;var t=n(a(45649)),r=a(80184),s=(0,t.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");i.Z=s},20165:function(e,i,a){var n=a(64836);i.Z=void 0;var t=n(a(45649)),r=a(80184),s=(0,t.default)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");i.Z=s},97808:function(e,i,a){var n,t=a(4942),r=a(63366),s=a(87462),o=a(72791),d=a(28182),l=a(94419),u=a(14036),c=a(4567),v=a(93840),h=a(52930),m=a(66934),p=a(13209),Z=a(31402),f=a(80184),x=["children","className","component","disablePointerEvents","disableTypography","position","variant"],g=(0,m.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,i){var a=e.ownerState;return[i.root,i["position".concat((0,u.Z)(a.position))],!0===a.disablePointerEvents&&i.disablePointerEvents,i[a.variant]]}})((function(e){var i=e.theme,a=e.ownerState;return(0,s.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(i.vars||i).palette.action.active},"filled"===a.variant&&(0,t.Z)({},"&.".concat(p.Z.positionStart,"&:not(.").concat(p.Z.hiddenLabel,")"),{marginTop:16}),"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),b=o.forwardRef((function(e,i){var a=(0,Z.Z)({props:e,name:"MuiInputAdornment"}),t=a.children,m=a.className,b=a.component,w=void 0===b?"div":b,j=a.disablePointerEvents,y=void 0!==j&&j,P=a.disableTypography,S=void 0!==P&&P,q=a.position,z=a.variant,E=(0,r.Z)(a,x),D=(0,h.Z)()||{},L=z;z&&D.variant,D&&!L&&(L=D.variant);var k=(0,s.Z)({},a,{hiddenLabel:D.hiddenLabel,size:D.size,disablePointerEvents:y,position:q,variant:L}),_=function(e){var i=e.classes,a=e.disablePointerEvents,n=e.hiddenLabel,t=e.position,r=e.size,s=e.variant,o={root:["root",a&&"disablePointerEvents",t&&"position".concat((0,u.Z)(t)),s,n&&"hiddenLabel",r&&"size".concat((0,u.Z)(r))]};return(0,l.Z)(o,p.w,i)}(k);return(0,f.jsx)(v.Z.Provider,{value:null,children:(0,f.jsx)(g,(0,s.Z)({as:w,ownerState:k,className:(0,d.default)(_.root,m),ref:i},E,{children:"string"!==typeof t||S?(0,f.jsxs)(o.Fragment,{children:["start"===q?n||(n=(0,f.jsx)("span",{className:"notranslate",children:"\u200b"})):null,t]}):(0,f.jsx)(c.Z,{color:"text.secondary",children:t})}))})}));i.Z=b},13209:function(e,i,a){a.d(i,{w:function(){return r}});var n=a(75878),t=a(21217);function r(e){return(0,t.Z)("MuiInputAdornment",e)}var s=(0,n.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);i.Z=s}}]);
//# sourceMappingURL=261.3120c05d.chunk.js.map