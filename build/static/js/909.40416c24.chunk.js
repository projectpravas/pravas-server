"use strict";(self.webpackChunkpravas_client=self.webpackChunkpravas_client||[]).push([[909],{13909:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var o=n(29439),i=n(72791),s=n(59434),r=n(57689),a=n(99249),l=n(19773),c=n(32295),u=n(89078),d=n(64554),v=n(90977),f=n(41286),m=n(27247),h=n(21830),p=n.n(h),x=n(85771),j=n(97750),Z=n(97639),b=n(10266),C=n(80184),y=function(e){var t=e.title,n=e.data,o=e.loadUsers,i=(0,r.s0)(),s=(0,r.TH)().pathname.includes("users")?"admin":"customer",c=[{label:"ID",name:"userId",options:{filter:!1,sort:!0}},{label:"Name",name:"name.first",options:{filter:!0,sort:!0}},{label:"Surname",name:"name.last",options:{filter:!0,sort:!0}},{label:"Mobile",name:"mobile",options:{filter:!0,sort:!1}},{label:"Email",name:"email",options:{filter:!0,sort:!1}},{label:"Status",name:"status",options:{filter:!0,sort:!0,customBodyRender:function(e,t){var i=n[t.rowIndex];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(x.Z,{style:{color:"active"==e?"green":"red"},label:"active"==e?"active":"inactive",onClick:function(){return function(e,t,n){var i="active"==t?"inactive":"inactive"==t?"active":1!=t,s=new FormData;"status"==e&&s.append("status",i),a.Z.updateUser(null===n||void 0===n?void 0:n._id,s).then((function(t){o(),(0,l.Qm)("".concat("status"==e?"Status":"Verification"," Changed.."),2e3)})).catch((function(t){console.error(t),(0,l.Jc)("".concat("status"==e?"Status":"Verification"," couldn't Changed.."),3e3)}))}("status",e,i)}})})}}},{label:"Actions",name:"actions",options:{filter:!0,sort:!0,customBodyRenderLite:function(e){var t=n[e];return(0,C.jsxs)(d.Z,{sx:{display:"flex"},children:[(0,C.jsx)(v.Z,{onClick:function(){return function(e,t){i("/secured/add-edit/".concat(e,"/edit/").concat(t))}(null===t||void 0===t?void 0:t._id,(null===t||void 0===t?void 0:t.role)||"")},children:(0,C.jsx)(f.Z,{style:{color:"#444"}})}),(0,C.jsx)(v.Z,{onClick:function(){return e=null===t||void 0===t?void 0:t._id,void p().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){null!==t&&void 0!==t&&t.isConfirmed&&a.Z.deleteUser(e).then((function(e){p().fire("Deleted!","Deleted successfully...","success"),i("")})).catch((function(e){var t,n;console.error(e),null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||n.message,p().fire("Coudn't Deleted!","Couldn't Deleted successfully...","error")}))}));var e},children:(0,C.jsx)(m.default,{color:"error"})})]})}}}],h={filterType:"checkbox",responsive:"standard",enableNestedDataAccess:".",customToolbar:function(){return(0,C.jsx)(Z.Z,{title:"Add ".concat(t.split(" ")[0]),placement:"top",children:(0,C.jsx)(v.Z,{onClick:function(){return function(e){i("/secured/add-edit/0/add/".concat(e))}(s)},children:(0,C.jsx)(j.Z,{color:"primary",fontSize:"large"})})})}};return(0,C.jsx)(b.Z,{sx:{mt:2},disableGutters:!0,children:(0,C.jsx)(u.ZP,{title:t,columns:c,data:n,options:h})})},g=n(50855),k=function(e){var t=(0,i.useState)([{}]),n=(0,o.Z)(t,2),u=n[0],d=n[1],v=((0,s.v9)(c.oV),(0,r.TH)().pathname),f=function(){a.Z.fetchAllUsers("?role=".concat(v.includes("users")?"admin":"customer")).then((function(e){var t;d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)})).catch((function(e){var t,n;console.error(e);var o=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Try Again..";(0,l.Jc)(o,5e3)}))};return(0,i.useEffect)((function(){f()}),[v]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.Z,{title:"".concat(v.includes("users")?"Admin":"Customer"," List")}),(0,C.jsx)(y,{title:"".concat(v.includes("users")?"Admin":"Customer"," List"),data:u,loadUsers:f}),(0,C.jsx)(r.j3,{})]})}},41286:function(e,t,n){var o=n(64836);t.Z=void 0;var i=o(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=r},97750:function(e,t,n){var o=n(64836);t.Z=void 0;var i=o(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");t.Z=r}}]);
//# sourceMappingURL=909.40416c24.chunk.js.map