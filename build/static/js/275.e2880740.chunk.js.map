{"version":3,"file":"static/js/275.e2880740.chunk.js","mappings":"sOAgJA,UAnIoD,SAACA,GACnD,OAA0BC,EAAAA,EAAAA,UAAsB,IAAG,eAArCC,GAAF,KAAU,MAEhBC,GAAWC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,MAAbD,SACFE,EACmD,eAAvDF,EAASG,MAAM,KAAKH,EAASG,MAAM,KAAKC,OAAS,GAE7CC,EACmD,eAAvDL,EAASG,MAAM,KAAKH,EAASG,MAAM,KAAKC,OAAS,GAC7C,QACAJ,EAASG,MAAM,KAAKH,EAASG,MAAM,KAAKC,OAAS,GAqCjDE,EAAY,WAChBC,EAAAA,EAAAA,gBACGC,MAAK,SAACC,GAAG,aAAKZ,EAAY,OAAHY,QAAG,IAAHA,GAAS,QAAN,EAAHA,EAAKC,YAAI,WAAN,EAAH,EAAWA,KAAK,IACvCC,OAAM,SAACC,GACNC,QAAQC,MAAMF,EAChB,GACJ,GAEAG,EAAAA,EAAAA,YAAU,WACRT,GACF,GAAG,IA8DH,OAHAS,EAAAA,EAAAA,YAAU,WACJb,GAAgBJ,EAAS,GAAD,OAAIO,GAClC,GAAG,CAACA,KAEF,+BAKE,SAAC,KAAM,KAGb,C,6DCzIME,EAAW,wCAsBb,OAtBa,uCACf,SAAkBS,GAChB,OAAOC,EAAAA,EAAAA,KAASC,EAAAA,EAAAA,IAAAA,KAAAA,OAA2BF,EAC7C,GAAE,wBAEF,SACEG,EACAH,GAEA,OAAOC,EAAAA,EAAAA,IAAQC,EAAAA,EAAAA,IAAAA,KAAAA,OAA4BC,EAAIH,EACjD,GAAE,wBAEF,SAAkBG,GAChB,OAAOF,EAAAA,EAAAA,OAAWC,EAAAA,EAAAA,IAAAA,KAAAA,OAA4BC,EAChD,GAAE,0BAEF,SAAoBA,GAClB,OAAOF,EAAAA,EAAAA,IAAQC,EAAAA,EAAAA,IAAAA,KAAAA,OAA4BC,EAC7C,GAAE,2BAEF,WACE,OAAOF,EAAAA,EAAAA,IAAQC,EAAAA,EAAAA,IAAAA,KAAAA,OACjB,KAAE,EAtBa,GAwBjB,K,4BC3BIE,EAAyBC,EAAQ,OAIrCC,EAAQ,OAAU,EAClB,IAAIC,EAAiBH,EAAuBC,EAAQ,QAChDG,EAAcH,EAAQ,OACtBI,GAAW,EAAIF,EAAeG,UAAuB,EAAIF,EAAYG,KAAK,OAAQ,CACpFC,EAAG,yJACD,QACJN,EAAQ,EAAUG,C","sources":["features/admin/blogs/Blogs.tsx","services/BlogService.ts","../node_modules/@mui/icons-material/Edit.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport Box from \"@mui/material/Box\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { Outlet, useLocation, useNavigate } from \"react-router-dom\";\r\nimport BlogService from \"../../../services/BlogService\";\r\nimport BlogModel from \"../../../shared/models/blogModel\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport Swal from \"sweetalert2\";\r\n\r\ninterface IBlogsProps {}\r\n\r\nconst Blogs: React.FunctionComponent<IBlogsProps> = (props) => {\r\n  const [blogs, setBlogs] = useState<BlogModel[]>([]);\r\n\r\n  const navigate = useNavigate();\r\n  const { pathname } = useLocation();\r\n  const showAdminBlogs =\r\n    pathname.split(\"/\")[pathname.split(\"/\").length - 1] == \"admin-blogs\";\r\n\r\n  const navPath =\r\n    pathname.split(\"/\")[pathname.split(\"/\").length - 1] == \"admin-blogs\"\r\n      ? \"blogs\"\r\n      : pathname.split(\"/\")[pathname.split(\"/\").length - 1];\r\n\r\n  const handleEdit = () => {\r\n    // navigate(\"\")\r\n  };\r\n\r\n  //handle delete\r\n  const handleDelete = (id: string) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result?.isConfirmed) {\r\n        BlogService.deleteBlog(id)\r\n          .then((res) => {\r\n            Swal.fire(\"Deleted!\", \"Deleted successfully...\", \"success\");\r\n            loadBlogs();\r\n            navigate(``);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            const msg = err?.response?.data?.message || \"Coudn't delete...\";\r\n            Swal.fire(\r\n              \"Coudn't Deleted!\",\r\n              \"Couldn't Deleted successfully...\",\r\n              \"error\"\r\n            );\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const loadBlogs = () => {\r\n    BlogService.fetchAllBlogs()\r\n      .then((res) => setBlogs(res?.data?.data))\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadBlogs();\r\n  }, []);\r\n\r\n  const title = \"Blogs\";\r\n  const columns = [\r\n    {\r\n      label: \"Sr No\",\r\n      name: \"blogId\",\r\n      options: {\r\n        filter: false,\r\n        sort: true,\r\n        customBodyRenderLite: (index: any) => index + 1,\r\n      },\r\n    },\r\n    {\r\n      label: \"Title\",\r\n      name: \"title\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      },\r\n    },\r\n    {\r\n      label: \"Categories\",\r\n      name: \"categories\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n        // customBodyRenderLite: () => {\r\n        //   const value = blogs && blogs?.categories;\r\n        //   return value;\r\n        // },\r\n      },\r\n    },\r\n    {\r\n      label: \"Actions\",\r\n      name: \"actions\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n        customBodyRenderLite: (index: number) => {\r\n          const tour: BlogModel = blogs[index];\r\n          return (\r\n            <Box sx={{ display: \"flex\" }}>\r\n              <IconButton\r\n              // onClick={() =>\r\n              //   handleEdit(blog?._id as string, blog?.category || \"\")\r\n              // }\r\n              >\r\n                <EditIcon style={{ color: \"#444\" }} />\r\n              </IconButton>\r\n              <IconButton onClick={() => handleDelete(tour?._id as string)}>\r\n                <DeleteIcon color=\"error\" />\r\n              </IconButton>\r\n            </Box>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ];\r\n  useEffect(() => {\r\n    if (showAdminBlogs) navigate(`${navPath}`);\r\n  }, [navPath]);\r\n  return (\r\n    <>\r\n      {/* <h1>Blogs</h1> */}\r\n      {/* <CustomTitle title=\"Blogs\" /> */}\r\n      {/* <MUIDataTable title={title} columns={columns} data={blogs} /> */}\r\n\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Blogs;\r\n","import { AxiosResponse } from \"axios\";\r\nimport \"../api/index\";\r\nimport { API, endPoints } from \"../api/index\";\r\nimport BlogModel from \"../shared/models/blogModel\";\r\n\r\nclass BlogService {\r\n  static createBlog(blog: FormData | BlogModel): Promise<AxiosResponse> {\r\n    return API.post(endPoints.api.blog.create, blog);\r\n  } //createBlog\r\n\r\n  static updateBlog(\r\n    id: string,\r\n    blog: FormData | BlogModel\r\n  ): Promise<AxiosResponse> {\r\n    return API.put(endPoints.api.blog.update + id, blog);\r\n  } //updateBlog\r\n\r\n  static deleteBlog(id: string): Promise<AxiosResponse> {\r\n    return API.delete(endPoints.api.blog.delete + id);\r\n  } //deleteBlog\r\n\r\n  static fetchOneBlog(id: string): Promise<AxiosResponse> {\r\n    return API.get(endPoints.api.blog.getOne + id);\r\n  } //fetchOneBlog\r\n\r\n  static fetchAllBlogs(query = \"\"): Promise<AxiosResponse> {\r\n    return API.get(endPoints.api.blog.getAll);\r\n  } //fetchAllBlogs\r\n}\r\nexport default BlogService;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\nexports.default = _default;"],"names":["props","useState","setBlogs","navigate","useNavigate","pathname","useLocation","showAdminBlogs","split","length","navPath","loadBlogs","BlogService","then","res","data","catch","err","console","error","useEffect","blog","API","endPoints","id","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}