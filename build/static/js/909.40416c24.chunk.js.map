{"version":3,"file":"static/js/909.40416c24.chunk.js","mappings":"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","sources":["features/admin/users/UserList.tsx","features/admin/users/Users.tsx","../node_modules/@mui/icons-material/Edit.js","../node_modules/@mui/icons-material/PersonAdd.js"],"sourcesContent":["import React from \"react\";\r\nimport MUIDataTables from \"mui-datatables\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Box from \"@mui/material/Box\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport Swal from \"sweetalert2\";\r\nimport UserService from \"../../../services/UserService\";\r\nimport User from \"../../../shared/models/userModel\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Chip } from \"@mui/material\";\r\nimport { errorToast, successToast } from \"../../../ui/toast/Toast\";\r\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Container from \"@mui/material/Container\";\r\n\r\ninterface IUserListProps {\r\n  title: string;\r\n  data: object[];\r\n  loadUsers: Function;\r\n}\r\n\r\nconst UserList: React.FunctionComponent<IUserListProps> = ({\r\n  title,\r\n  data,\r\n  loadUsers,\r\n}) => {\r\n  const navigate = useNavigate();\r\n  const { pathname } = useLocation();\r\n  const role = pathname.includes(\"users\") ? \"admin\" : \"customer\";\r\n\r\n  //handle delete\r\n  const handleDelete = (id: string) => {\r\n    Swal.fire({\r\n      title: \"Are you sure?\",\r\n      text: \"You won't be able to revert this!\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Yes, delete it!\",\r\n    }).then((result) => {\r\n      if (result?.isConfirmed) {\r\n        UserService.deleteUser(id)\r\n          .then((res) => {\r\n            Swal.fire(\"Deleted!\", \"Deleted successfully...\", \"success\");\r\n            navigate(``);\r\n          })\r\n          .catch((err) => {\r\n            console.error(err);\r\n            const msg = err?.response?.data?.message || \"Coudn't delete...\";\r\n\r\n            Swal.fire(\r\n              \"Coudn't Deleted!\",\r\n              \"Couldn't Deleted successfully...\",\r\n              \"error\"\r\n            );\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  // handle add\r\n  const handleAdd = (role: string) => {\r\n    navigate(`/secured/add-edit/0/add/${role}`);\r\n  };\r\n\r\n  // handle edit\r\n  const handleEdit = (id: string, role: string) => {\r\n    navigate(`/secured/add-edit/${id}/edit/${role}`);\r\n  };\r\n\r\n  const handleStausAndVerification = (op: string, value: any, user: any) => {\r\n    let newValue =\r\n      value == \"active\"\r\n        ? \"inactive\"\r\n        : value == \"inactive\"\r\n        ? \"active\"\r\n        : value == true\r\n        ? false\r\n        : true;\r\n\r\n    //create form data\r\n    const fd = new FormData();\r\n\r\n    op == \"status\" && fd.append(\"status\", newValue as string);\r\n    // op == \"verified\" && fd.append(\"verified\", newValue as string);\r\n\r\n    UserService.updateUser(user?._id, fd)\r\n      .then((res) => {\r\n        loadUsers();\r\n        successToast(\r\n          `${op == \"status\" ? \"Status\" : \"Verification\"} Changed..`,\r\n          2000\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        errorToast(\r\n          `${op == \"status\" ? \"Status\" : \"Verification\"} couldn't Changed..`,\r\n          3000\r\n        );\r\n      });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      label: \"ID\",\r\n      name: \"userId\",\r\n      options: {\r\n        filter: false,\r\n        sort: true,\r\n      },\r\n    },\r\n    {\r\n      label: \"Name\",\r\n      name: \"name.first\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      },\r\n    },\r\n    {\r\n      label: \"Surname\",\r\n      name: \"name.last\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      },\r\n    },\r\n    {\r\n      label: \"Mobile\",\r\n      name: \"mobile\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      },\r\n    },\r\n    {\r\n      label: \"Email\",\r\n      name: \"email\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      },\r\n    },\r\n    {\r\n      label: \"Status\",\r\n      name: \"status\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n\r\n        customBodyRender: (value: string, metaData: any) => {\r\n          const user = data[metaData.rowIndex];\r\n          return (\r\n            <>\r\n              {\r\n                <Chip\r\n                  style={{ color: value == \"active\" ? \"green\" : \"red\" }}\r\n                  label={value == \"active\" ? \"active\" : \"inactive\"}\r\n                  onClick={() =>\r\n                    handleStausAndVerification(\"status\", value, user)\r\n                  }\r\n                />\r\n              }\r\n            </>\r\n          );\r\n        },\r\n      },\r\n    },\r\n    {\r\n      label: \"Actions\",\r\n      name: \"actions\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n        customBodyRenderLite: (index: number) => {\r\n          const user: User = data[index];\r\n          return (\r\n            <Box sx={{ display: \"flex\" }}>\r\n              <IconButton\r\n                onClick={() =>\r\n                  handleEdit(user?._id as string, user?.role || \"\")\r\n                }\r\n              >\r\n                <EditIcon style={{ color: \"#444\" }} />\r\n              </IconButton>\r\n              <IconButton onClick={() => handleDelete(user?._id as string)}>\r\n                <DeleteIcon color=\"error\" />\r\n              </IconButton>\r\n            </Box>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ];\r\n\r\n  const options: object = {\r\n    filterType: \"checkbox\",\r\n    responsive: \"standard\",\r\n    enableNestedDataAccess: \".\",\r\n    customToolbar: () => {\r\n      return (\r\n        <Tooltip title={`Add ${title.split(\" \")[0]}`} placement=\"top\">\r\n          <IconButton onClick={() => handleAdd(role)}>\r\n            <PersonAddIcon color=\"primary\" fontSize=\"large\" />\r\n          </IconButton>\r\n        </Tooltip>\r\n      );\r\n    },\r\n  };\r\n  return (\r\n    <Container sx={{ mt: 2 }} disableGutters>\r\n      {/* <Button type=\"button\" variant=\"contained\" sx={{ mb: 1, ml: 2 }}>\r\n        {`Add ${title.split(\" \")[0]}`}\r\n      </Button> */}\r\n      <MUIDataTables\r\n        title={title}\r\n        columns={columns}\r\n        data={data}\r\n        options={options}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Outlet, useLocation } from \"react-router-dom\";\r\nimport UserService from \"../../../services/UserService\";\r\nimport { errorToast } from \"../../../ui/toast/Toast\";\r\nimport { selectLoggedUser } from \"../../../app/slices/AuthSlice\";\r\nimport UserForm from \"./UserForm\";\r\nimport UserList from \"./UserList\";\r\nimport CustomTitle from \"../../../ui/title/CustomTitle\";\r\n\r\ninterface IUsersProps {}\r\n\r\nconst Users: React.FunctionComponent<IUsersProps> = (props) => {\r\n  const [users, setUsers] = useState<object[]>([{}]);\r\n  const currentLoggedUser = useSelector(selectLoggedUser);\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const loadUsers = () => {\r\n    UserService.fetchAllUsers(\r\n      `?role=${pathname.includes(\"users\") ? \"admin\" : \"customer\"}`\r\n    )\r\n      .then((res) => {\r\n        setUsers(res?.data?.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        const msg = err?.response?.data?.message || \"Try Again..\";\r\n        errorToast(msg, 5000);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <>\r\n      <CustomTitle\r\n        title={`${pathname.includes(\"users\") ? \"Admin\" : \"Customer\"} List`}\r\n      />\r\n      <UserList\r\n        title={`${pathname.includes(\"users\") ? \"Admin\" : \"Customer\"} List`}\r\n        data={users}\r\n        loadUsers={loadUsers}\r\n      />\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'PersonAdd');\nexports.default = _default;"],"names":["title","data","loadUsers","navigate","useNavigate","role","useLocation","pathname","includes","columns","label","name","options","filter","sort","customBodyRender","value","metaData","user","rowIndex","Chip","style","color","onClick","op","newValue","fd","FormData","append","UserService","_id","then","res","successToast","catch","err","console","error","errorToast","handleStausAndVerification","customBodyRenderLite","index","Box","sx","display","IconButton","id","handleEdit","Edit","Swal","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","response","message","Delete","filterType","responsive","enableNestedDataAccess","customToolbar","Tooltip","split","placement","handleAdd","PersonAdd","fontSize","Container","mt","disableGutters","props","useState","users","setUsers","useSelector","selectLoggedUser","msg","useEffect","CustomTitle","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}