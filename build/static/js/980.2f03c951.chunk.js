"use strict";(self.webpackChunkpravas_client=self.webpackChunkpravas_client||[]).push([[980],{49980:function(o,t,e){e.r(t);var n=e(29439),i=e(72791),a=e(89078),l=e(64554),r=e(90977),d=e(99249),u=e(57689),c=e(85771),s=e(10266),v=e(59434),f=e(32295),D=e(59758),m=e(80184);t.default=function(){var o=(0,i.useState)([]),t=(0,n.Z)(o,2),e=t[0],p=t[1],w=(0,u.s0)(),b=((0,u.TH)().pathname,(0,v.v9)(f.oV)),y=[{label:"ID",name:"_id",options:{filter:!1,sort:!0,customBodyRenderLite:function(o){return o+1}}},{label:"Title",name:"title",options:{filter:!0,sort:!0}},{label:"Duration",name:"duration.days",options:{filter:!0,sort:!1,customBodyRender:function(o,t){return"".concat(o,"D").concat(Number(o)-1,"N")}}},{label:"From",name:"tourDate",options:{filter:!0,sort:!0,customBodyRender:function(o,t){var n=e.find((function(o){return(null===o||void 0===o?void 0:o._id)==t.rowData[0]}));return(null===n||void 0===n?void 0:n.tourDate)&&new Intl.DateTimeFormat("en-IN").format(new Date(null!==n&&void 0!==n&&n.tourDate?null===n||void 0===n?void 0:n.tourDate:Date.now()))}}},{label:"To",name:"tourDate",options:{filter:!0,sort:!0,customBodyRender:function(o,t){var n,i=e.find((function(o){return(null===o||void 0===o?void 0:o._id)==t.rowData[0]}));return(null===i||void 0===i?void 0:i.tourDate)&&new Intl.DateTimeFormat("en-IN").format(new Date(new Date("".concat(null===i||void 0===i?void 0:i.tourDate)).setDate(new Date("".concat(null===i||void 0===i?void 0:i.tourDate)).getDate()+Number("".concat(null===i||void 0===i||null===(n=i.duration)||void 0===n?void 0:n.days)))))}}},{label:"Location",name:"tourLocation",options:{filter:!0,sort:!1}},{label:"Status",name:"status",options:{filter:!0,sort:!0,filterType:"dropdown",filterOptions:{names:["completed","Booked","ongoing"],logic:function(o,t,n){var i,a,l=e.find((function(o){return(null===o||void 0===o?void 0:o._id)==n[0]})),r=null!==l&&void 0!==l&&null!==(i=l.duration)&&void 0!==i&&i.days?null===l||void 0===l||null===(a=l.duration)||void 0===a?void 0:a.days:0,d=new Intl.DateTimeFormat("en-US").format(new Date(null===l||void 0===l?void 0:l.tourDate)),u=new Intl.DateTimeFormat("en-US").format(new Date(new Date(null===l||void 0===l?void 0:l.tourDate).setDate(new Date(null===l||void 0===l?void 0:l.tourDate).getDate()+Number(r)))),c=new Intl.DateTimeFormat("en-US").format(new Date(Date.now()));return t.includes("completed")&&u>c?n:!t.includes("ongoing")||d<=c&&c<=u?t.includes("upcoming")&&d<=c?n:void 0:n}},customBodyRender:function(o,t){var n,i=e.find((function(o){return(null===o||void 0===o?void 0:o._id)==t.rowData[0]})),a=new Date(new Date("".concat(null===i||void 0===i?void 0:i.tourDate)).setDate(new Date("".concat(null===i||void 0===i?void 0:i.tourDate)).getDate()+Number("".concat(null===i||void 0===i||null===(n=i.duration)||void 0===n?void 0:n.days)))),l="tour"==(null===i||void 0===i?void 0:i.category)&&new Date("".concat(null===i||void 0===i?void 0:i.tourDate))>new Date?"Booked":a<new Date?"completed":"ongoing";return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{style:{textTransform:"capitalize",fontSize:"1em",color:"Booked"==l?"#005e9d":"completed"==l?"#b32800":"#00a300",backgroundColor:"#fff"},label:l})})}}},{label:"Actions",name:"actions",options:{filter:!0,sort:!0,customBodyRender:function(o,t){var n=e.find((function(o){return(null===o||void 0===o?void 0:o._id)==(null===t||void 0===t?void 0:t.rowData[0])}));return(0,m.jsx)(l.Z,{sx:{display:"flex"},children:(0,m.jsx)(r.Z,{onClick:function(){return o=null===n||void 0===n?void 0:n.packageId,void w("/pravas/explore/".concat(o));var o},children:(0,m.jsx)(D.Z,{style:{color:"#444"}})})})}}}];return(0,i.useEffect)((function(){(null===b||void 0===b?void 0:b._id)&&(null===d.Z||void 0===d.Z||d.Z.fetchOneUser(null===b||void 0===b?void 0:b._id).then((function(o){var t,e;p(null===o||void 0===o||null===(t=o.data)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.tours)})).catch((function(o){console.error(o)})))}),[]),(0,m.jsx)(s.Z,{sx:{mt:2},disableGutters:!0,children:(0,m.jsx)(a.ZP,{title:(0,m.jsx)("h3",{children:"My Tours"}),columns:y,data:e,options:{filterType:"dropdown",responsive:"standard",enableNestedDataAccess:"."}})})}},59758:function(o,t,e){var n=e(64836);t.Z=void 0;var i=n(e(45649)),a=e(80184),l=(0,i.default)((0,a.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"VisibilityRounded");t.Z=l}}]);
//# sourceMappingURL=980.2f03c951.chunk.js.map