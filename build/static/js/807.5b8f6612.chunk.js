"use strict";(self.webpackChunkpravas_client=self.webpackChunkpravas_client||[]).push([[807],{57807:function(e,i,n){n.r(i);var o=n(93433),l=n(29439),a=n(1413),r=n(72791),t=n(60220),s=n(5849),d=n(4708),u=n(93006),c=n(25801),v=n(13034),m=n(4841),h=n(64554),p=n(81153),f=n(4567),Z=n(36395),x=n(57012),b=n(11087),g=n(57689),j=n(66934),w=n(55705),P=n(43725),y=n(78868),q=n(3746),S=n(30403),C=n(20165),T=n(46635),k=n(58520),z=n(97808),O=n(90977),D=n(99249),I=n(19773),M=n(34729),_=n(6907),A=n(45363),N=n(17133),B=n(88970),R=n(65639),E=n(30035),L=n(80184),W=(0,j.ZP)(b.OL)({textDecoration:"none"}),F={hasFirst:!0,hasLast:!0,hasMobile:!0,hasEmail:!0,hasPassword:!0,hasDob:!0,hasGender:!0},V=(0,y.Z)((0,a.Z)({},F)),U=(0,P.Z)((0,a.Z)({},F)),G=(0,Z.Z)();i.default=function(){var e=(0,r.useState)({OTP:"",showOTP:!1,sendOTP:!1}),i=(0,l.Z)(e,2),n=i[0],Z=i[1],b=(0,r.useState)(""),j=(0,l.Z)(b,2),P=j[0],y=j[1],F=(0,r.useState)(!1),H=(0,l.Z)(F,2),J=H[0],$=H[1],K=(0,r.useState)(0),Q=(0,l.Z)(K,2),Y=Q[0],X=Q[1],ee=(0,r.useState)(NaN),ie=(0,l.Z)(ee,2),ne=ie[0],oe=ie[1],le=(0,r.useState)(""),ae=(0,l.Z)(le,2),re=ae[0],te=ae[1],se=(0,r.useState)(!1),de=(0,l.Z)(se,2),ue=de[0],ce=de[1],ve=r.useState(!1),me=(0,l.Z)(ve,2),he=me[0],pe=me[1],fe=(0,r.useState)([]),Ze=(0,l.Z)(fe,2),xe=Ze[0],be=Ze[1];(0,r.useEffect)((function(){M.Z.fetchAllTours().then((function(e){var i,n,l=[];null===e||void 0===e||null===(i=e.data)||void 0===i||null===(n=i.data)||void 0===n||n.forEach((function(e,i){return l.push.apply(l,(0,o.Z)(e.images))}));be(l)}))}),[]);var ge=(0,g.s0)(),je=function(){return pe((function(e){return!e}))},we=function(e){e.preventDefault()},Pe=function(){$(!0),Z((0,a.Z)((0,a.Z)({},n),{},{showOTP:!1})),X(0),oe(NaN),clearInterval(ne)},ye=function(e){var i=e.target.value;6==i.length&&Z((0,a.Z)((0,a.Z)({},n),{},{OTP:i}))};return(0,r.useEffect)((function(){X(Y),60==Y?oe(Number(setInterval((function(){X((function(e){return e-1}))}),1e3))):0==Y&&(clearInterval(ne),Z((0,a.Z)((0,a.Z)({},n),{},{sendOTP:!1,showOTP:!1})))}),[Y,n.sendOTP]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(_.ql,{children:[(0,L.jsx)("title",{children:"Register To Pravas Tourism"}),(0,L.jsx)("meta",{name:"description",content:"Register to Pravas Tourism"}),(0,L.jsx)("meta",{name:"keywords",content:"Register to Pravas Tourism"}),(0,L.jsx)("link",{rel:"canonical",href:"/register"})]}),(0,L.jsx)(x.Z,{theme:G,children:(0,L.jsxs)(p.ZP,{container:!0,component:"main",children:[(0,L.jsx)(d.ZP,{}),(0,L.jsx)(p.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(http://localhost:9999/".concat(xe[Math.floor(Math.random()*xe.length)],")"),backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,L.jsx)(p.ZP,{item:!0,xs:12,sm:8,md:5,component:m.Z,elevation:6,square:!0,children:(0,L.jsxs)(h.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,L.jsx)(t.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,L.jsx)(S.Z,{})}),(0,L.jsx)(f.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,L.jsx)(w.J9,{initialValues:V,enableReinitialize:!0,validationSchema:U,onSubmit:function(e,i){var n=i.resetForm;D.Z.createUser((0,a.Z)((0,a.Z)({},e),{},{status:"active",role:"customer"})).then((function(e){var i,o=(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||"User created successfully...";(0,I.Qm)(o,3e3),$(!1),ce(!1),n({}),ge("/login")})).catch((function(e){var i,n,o=(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.message)||"User couldn't created...";(0,I.Jc)(o,5e3),console.error(e)}))},children:function(e){var i,o,l,r,t,d,m,f=e.values,x=e.errors,b=e.isValid,g=e.touched,j=e.handleBlur,w=e.handleChange,S=e.handleSubmit,D=null===g||void 0===g?void 0:g.name,I=null===x||void 0===x?void 0:x.name;return(0,L.jsx)("form",{onSubmit:S,children:(0,L.jsxs)(h.Z,{sx:{mt:3},children:[(0,L.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,L.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,L.jsx)(u.Z,{autoComplete:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,size:"small",name:"name.first",value:null===f||void 0===f||null===(i=f.name)||void 0===i?void 0:i.first,onBlur:j,onChange:w,error:!(null===D||void 0===D||!D.first||null===I||void 0===I||!I.first),helperText:null!==D&&void 0!==D&&D.first&&null!==I&&void 0!==I&&I.first?null===I||void 0===I?void 0:I.first:""})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,L.jsx)(u.Z,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"name.last",autoComplete:"family-name",size:"small",value:null===f||void 0===f||null===(o=f.name)||void 0===o?void 0:o.last,onBlur:j,onChange:w,error:!(null===D||void 0===D||!D.last||null===I||void 0===I||!I.last),helperText:null!==D&&void 0!==D&&D.last&&null!==I&&void 0!==I&&I.last?null===I||void 0===I?void 0:I.last:""})}),(0,L.jsxs)(p.ZP,{item:!0,xs:12,children:[(0,L.jsx)(u.Z,{required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",size:"small",autoComplete:"mobile",value:null===f||void 0===f?void 0:f.mobile,disabled:J,InputLabelProps:{shrink:"mobile"==re||0!=(null===f||void 0===f||null===(l=f.mobile)||void 0===l?void 0:l.length)},InputProps:{startAdornment:(0,L.jsx)(z.Z,{position:"end",sx:{order:2,mr:"0.5em"},children:J?(0,L.jsx)(T.Z,{color:"primary"}):10!=(null===f||void 0===f||null===(r=f.mobile)||void 0===r?void 0:r.length)||n.sendOTP||x.mobile||J?"":(0,L.jsx)(s.Z,{type:"button",onClick:function(){Z((0,a.Z)((0,a.Z)({},n),{},{showOTP:!0,sendOTP:!0})),(0,k.OA)($,P),X(60)},children:"Send OTP"})})},onBlur:function(e){j(e),te("")},onChange:function(e){w(e),y(e.target.value),clearInterval(ne),X(0)},onFocus:function(){return te("mobile")},error:!(null===g||void 0===g||!g.mobile||null===x||void 0===x||!x.mobile),helperText:null!==g&&void 0!==g&&g.mobile&&null!==x&&void 0!==x&&x.mobile?null===x||void 0===x?void 0:x.mobile:""}),Y>0&&(0,L.jsx)("span",{style:{fontSize:"0.8em"},children:"Resend OTP in ".concat(Y," seconds..")})]}),10==(null===f||void 0===f||null===(t=f.mobile)||void 0===t?void 0:t.length)&&n.showOTP&&(0,L.jsxs)(p.ZP,{sx:{flexWrap:"nowrap",justifyContent:"center",m:"1em"},children:[(0,L.jsx)(u.Z,{type:"text",id:"otpInput",placeholder:"Enter Your Code here",sx:{width:"50%",fontSize:"0.5em"},inputProps:{style:{padding:"0.4em"}},onChange:ye,size:"small"}),(0,L.jsx)(s.Z,{variant:"contained",color:"primary",id:"otpverifybtn",disabled:6!=n.OTP.length,sx:{display:"inline-block",ml:"0.5em",lineHeight:"0.8em",verticalAlign:"-webkit-baseline-middle"},onClick:function(){return(0,k.qD)(n.OTP,P,Pe)},children:"verify Number"})]}),(0,L.jsx)(p.ZP,{item:!0,xs:12,children:(0,L.jsx)(u.Z,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",size:"small",value:null===f||void 0===f?void 0:f.email,onBlur:j,onChange:w,error:!(null===g||void 0===g||!g.email||null===x||void 0===x||!x.email),helperText:null!==g&&void 0!==g&&g.email&&null!==x&&void 0!==x&&x.email?null===x||void 0===x?void 0:x.email:""})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,L.jsx)(u.Z,{type:"date",autoComplete:"dob",size:"small",name:"dob",required:!0,fullWidth:!0,id:"dob",label:"Date of Birth",InputLabelProps:{shrink:!0},value:null===f||void 0===f||null===(d=f.dob)||void 0===d?void 0:d.toString().split("T")[0],onBlur:j,onChange:function(e){w(e)},error:!(null===g||void 0===g||!g.dob||null===x||void 0===x||!x.dob),helperText:null!==g&&void 0!==g&&g.dob&&null!==x&&void 0!==x&&x.dob?null===x||void 0===x?void 0:x.dob:""})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,children:(0,L.jsxs)(A.Z,{size:"small",fullWidth:!0,required:!0,error:!(null===g||void 0===g||!g.gender||null===x||void 0===x||!x.gender),children:[(0,L.jsx)(N.Z,{id:"gender",children:"Gender"}),(0,L.jsxs)(B.Z,{row:!0,"aria-labelledby":"gender-radio-buttons-group-label",name:"gender",value:null===f||void 0===f?void 0:f.gender,onBlur:j,onChange:w,children:[(0,L.jsx)(c.Z,{value:"male",control:(0,L.jsx)(R.Z,{size:"small"}),label:"Male"}),(0,L.jsx)(c.Z,{value:"female",control:(0,L.jsx)(R.Z,{size:"small"}),label:"Female"}),(0,L.jsx)(c.Z,{value:"other",control:(0,L.jsx)(R.Z,{size:"small"}),label:"Other"})]}),(0,L.jsx)(E.Z,{children:null!==g&&void 0!==g&&g.gender&&null!==x&&void 0!==x&&x.gender?null===x||void 0===x?void 0:x.gender:""})]})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,children:(0,L.jsx)(u.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",size:"small",autoComplete:"new-password",value:null===f||void 0===f?void 0:f.password,onChange:w,onFocus:function(){return te("password")},onBlur:function(e){j(e),te("")},type:he?"text":"password",InputLabelProps:{shrink:"password"==re||0!=(null===f||void 0===f||null===(m=f.password)||void 0===m?void 0:m.length)},InputProps:{startAdornment:(0,L.jsx)(z.Z,{position:"end",sx:{order:2,mr:"1em"},children:(0,L.jsx)(O.Z,{"aria-label":"toggle password visibility",onClick:je,onMouseDown:we,edge:"end",children:he?(0,L.jsx)(C.Z,{}):(0,L.jsx)(q.Z,{})})})},error:!(null===g||void 0===g||!g.password||null===x||void 0===x||!x.password),helperText:null!==g&&void 0!==g&&g.password&&null!==x&&void 0!==x&&x.password?null===x||void 0===x?void 0:x.password:""})}),(0,L.jsx)(p.ZP,{item:!0,xs:12,children:(0,L.jsx)(c.Z,{control:(0,L.jsx)(v.Z,{color:"primary",id:"signUpCheckbox",name:"signUpCheckbox",value:ue,onBlur:j,onChange:function(){return ce(!ue)},checked:ue}),label:"I have provided valid Mobile number and Email to contact me"})})]}),(0,L.jsx)(s.Z,{type:"submit",fullWidth:!0,id:"sign-in-button",variant:"contained",sx:{mt:3,mb:2},disabled:!J||!b,children:"Sign Up"}),(0,L.jsx)(p.ZP,{container:!0,justifyContent:"flex-end",children:(0,L.jsx)(p.ZP,{item:!0,children:(0,L.jsx)(W,{to:"/login",children:"Already have an account? Sign in"})})})]})})}})]})})]})})]})}},58520:function(e,i,n){n.d(i,{OA:function(){return d},qD:function(){return u}});var o=n(44702),l=n(92391),a=n(64164),r=n(19773),t=(0,o.ZF)({apiKey:"AIzaSyAT2PMLVl4aPxWvKJlB8k9NLy59ZlI3syE",authDomain:"pravas-7a635.firebaseapp.com",projectId:"pravas-7a635",storageBucket:"pravas-7a635.appspot.com",messagingSenderId:"432819183076",appId:"1:432819183076:web:4847730cf623a5947bbbf1",measurementId:"G-CW5NHB0G4Z"}),s=((0,l.IH)(t),(0,a.v0)(t)),d=function(e,i){"object"!=typeof window.appVerifier&&(window.appVerifier=new a.lI("recaptcha-container",{size:"invisible",callback:function(e){},"expired-callback":function(){}},s)),(0,a.$g)(s,"+91".concat(i),window.appVerifier).then((function(e){window.confirmationResult=e})).catch((function(i){console.error(i),e&&e(!1)}))},u=function(e,i,n){""!=i?6==(null===e||void 0===e?void 0:e.length)?window.confirmationResult.confirm(e).then((function(e){e.user;n&&n()})).catch((function(e){(0,r.Jc)("Wrong OTP..",5e3),console.error("Wrong OTP",e)})):(0,r.Jc)("OTP must have 6 digit..",5e3):(0,r.Jc)("Please check Mobile Number..",5e3)}},78868:function(e,i){i.Z=function(e){var i=e.has_id,n=void 0!==i&&i,o=e.hasUserId,l=void 0!==o&&o,a=e.hasFirst,r=void 0!==a&&a,t=e.hasLast,s=void 0!==t&&t,d=e.hasMobile,u=void 0!==d&&d,c=e.hasEmail,v=void 0!==c&&c,m=e.hasStreet,h=void 0!==m&&m,p=e.hasCity,f=void 0!==p&&p,Z=e.hasState,x=void 0!==Z&&Z,b=e.hasCountry,g=void 0!==b&&b,j=e.hasPincode,w=void 0!==j&&j,P=e.hasStatus,y=void 0!==P&&P,q=e.hasRole,S=void 0!==q&&q,C=e.hasAvatar,T=void 0!==C&&C,k=e.hasGender,z=void 0!==k&&k,O=e.hasDesignation,D=void 0!==O&&O,I=e.hasDob,M=void 0!==I&&I,_=e.hasPassword,A=void 0!==_&&_,N=e.hasUserActivityDetails,B=void 0!==N&&N,R={},E={},L={},W={};return n&&(R._id=""),l&&(R.userId=void 0),r&&(E.first=""),s&&(E.last=""),(r||s)&&(R.name=E),u&&(R.mobile=""),v&&(R.email=""),h&&(L.street=""),f&&(L.city=""),x&&(L.state=""),g&&(L.country=""),w&&(L.pincode=""),(h||f||x||g||w)&&(R.address=L),A&&(R.password=""),D&&(R.designation=""),y&&(R.status="inactive"),S&&(R.role=""),T&&(R.avatar=""),z&&(R.gender=""),M&&(R.dob=""),B&&(W.userTimeStamp=0,W.sentEmailTimeStamp=0,W.passwordTimeStamp=0,R.userActivityDetails=W),R}},43725:function(e,i,n){var o=n(81724);i.Z=function(e){var i=e.hasFirst,n=void 0!==i&&i,l=e.hasLast,a=void 0!==l&&l,r=e.hasMobile,t=void 0!==r&&r,s=e.hasEmail,d=void 0!==s&&s,u=e.hasStreet,c=void 0!==u&&u,v=e.hasCity,m=void 0!==v&&v,h=e.hasState,p=void 0!==h&&h,f=e.hasCountry,Z=void 0!==f&&f,x=e.hasPincode,b=void 0!==x&&x,g=e.hasPassword,j=void 0!==g&&g,w=e.hasRole,P=void 0!==w&&w,y=e.hasDob,q=void 0!==y&&y,S=e.hasGender,C=void 0!==S&&S,T=e.hasAvatar,k=void 0!==T&&T,z=e.hasStatus,O=void 0!==z&&z,D=e.hasDesignation,I=void 0!==D&&D,M={},_={},A={};return n&&(_.first=o.Z_().required("First Name is required")),a&&(_.last=o.Z_().required("Last Name is required")),(n||a)&&(M.name=o.Ry(_)),t&&(M.mobile=o.Z_().required().matches(/^[0-9]{10}$/,"Mobile Must be 10 Digit")),d&&(M.email=o.Z_().required().matches(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,6}$/,"Enter valid Email Address")),c&&(A.street=o.Z_().required("Street is required")),m&&(A.city=o.Z_().required("Address is required")),p&&(A.state=o.Z_().required("State is required")),Z&&(A.country=o.Z_().required("Country is required")),b&&(A.pincode=o.Z_().required("Pincode is required")),(c||m||p||Z||b)&&(M.address=o.Ry(A)),j&&(M.password=o.Z_().required().matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,"Password must have min 8 characters and 1 cap & small letter, Symbol")),P&&(M.role=o.Z_().required("Role is required")),q&&(M.dob=o.hT().required("Birth date is required").min(new Date(Date.now()-3784e9),"Date is too old, must be within 120 year back than now").max(new Date(Date.now()),"Date is greater than todays Date")),C&&(M.gender=o.Z_().required("Gender is required")),k&&(M.avatar=o.Z_().required("Avatar is required")),O&&(M.status=o.Z_().required("Status is required")),I&&(M.designation=o.Z_().required("Designation is required")),o.Ry().shape(M)}},30403:function(e,i,n){var o=n(64836);i.Z=void 0;var l=o(n(45649)),a=n(80184),r=(0,l.default)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");i.Z=r},3746:function(e,i,n){var o=n(64836);i.Z=void 0;var l=o(n(45649)),a=n(80184),r=(0,l.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");i.Z=r},20165:function(e,i,n){var o=n(64836);i.Z=void 0;var l=o(n(45649)),a=n(80184),r=(0,l.default)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");i.Z=r}}]);
//# sourceMappingURL=807.5b8f6612.chunk.js.map